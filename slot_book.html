<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="logstyle.css">
    <title>Document</title>
</head>
<body>
    <h4 class="sd" onclick="myfun(event)">  bharat    
    </h4>
    <script>
      function myfun(e){
       alert(localStorage.getItem('slots_number'));
        
      }
        </script>
<h1 class="head-bk"><a href="parks.php">
    <img src="icon/icons8-back-64.png" onclick="changePos(event)" width="100px" height="50px" alt="" srcset=""></a></h1>
    <table align="center" class="tb-bk"  border="3"> 
        <form class="fm-sb" action="parks.php" onsubmit="return validationForm(event)" method="POST">
             <tr>
                
        <th class="bk-slotheading" colspan="2" >
                Book Slot
        </th>    
    </tr>
        <tr >
            <td colspan="2">
             <label for=""><b>Select Date: </b>
                 <input type="date" name="date" id="" class="input-bk date-picker" >
             </label>
            </td>
        </tr>
        <tr>
            <td>
                <label ><b>Start Time:</b>
                    <input type="time" class="input-bk st-time" name="time" >
                </label>
                
            </td>
      
            <td>
                <label><b>End Time:</b>
                    <input type="time" name="time2" class="input-bk ed-time" >                    
                </label>
            </td>
        </tr>
            <tr>
            <td colspan="2">
                <input type="submit" value="Select Slot" class="btn-bk">
            </td>

        </tr>
    </form>
    </table>
<script>
    var dd = document.querySelector(".date-picker");   
    var startTime = document.querySelector(".st-time"); 
    var endTime = document.querySelector(".ed-time");
    var sb = document.querySelector(".btn-bk");
    var submitForm = document.querySelector(".fm-sb");
    var d = new Date();
    var y = d.getFullYear();
    var m = d.getMonth() + 1;
    var dat = d.getDate();
  dd.setAttribute("min", y + "-0"+ m +"-"+ dat);
  var h = d.getHours();
  var m = d.getMinutes();
  startTime.setAttribute("min",h +":"+m);
 
 function validationForm(e){
    if(dd.value.length == ""){
        dd.style.border = "2px solid red";
        e.preventDefault();    
       
    }else{
        dd.style.border = "2px solid green";
    } if(startTime.value.length == ""){        
        startTime.style.border = "2px solid red";
       
        e.preventDefault();
    }else {
        startTime.style.border = "2px solid green";
    }
    if(endTime.value.length == ""){
        endTime.style.border ="2px solid red";
        e.preventDefault();
    }else{    
       
        endTime.style.border ="2px solid green";
      
    }
    if(dd.value.length != "" && (startTime.value.length != "" && endTime.value.length != "")){
        alert("SLOT selected!");
        var t = localStorage.getItem("slots_number");
     localStorage.setItem("show",t);

        
    }else{
        var t = localStorage.getItem("slots_number");
    localStorage.removeItem(t);
    }

 }
function changePos(e){
    var t = localStorage.getItem("slots_number");
    localStorage.removeItem(t);
}
</script>
</body>
</html>